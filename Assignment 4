//2117240070087
//Gayathri P

PROGRAM:

import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.*;

public class ThreadPoolBenchmark {

    Callable<Long> {
        private long num;
        public Task(long num) { this.num = num; }

        @Override
        public Long call() {
            return num * num;
        }
    }

    public static void main(String[] args) throws Exception {
        int n = 1000000; 
        List<Long> numbers = new ArrayList<>();
        for (long i = 1; i <= n; i++) {
            numbers.add(i);
        }

       
        long startPlain = System.currentTimeMillis();

        List<Long> resultsPlain = new ArrayList<>();
        for (long num : numbers) {
            resultsPlain.add(num * num);
        }

        long endPlain = System.currentTimeMillis();
        System.out.println("Sequential execution time: " + (endPlain - startPlain) + " ms");

       
        long startPool = System.currentTimeMillis();

        ExecutorService executor = Executors.newFixedThreadPool(8);
        List<Future<Long>> futures = new ArrayList<>();

        for (long num : numbers) {
            futures.add(executor.submit(new Task(num)));
        }

        List<Long> resultsPool = new ArrayList<>();
        for (Future<Long> f : futures) {
            resultsPool.add(f.get());
        }

        executor.shutdown();
        long endPool = System.currentTimeMillis();

        System.out.println("ThreadPool execution time: " + (endPool - startPool) + " ms");

        // Verify results match
        System.out.println("Results match: " + resultsPlain.equals(resultsPool));
    }
}



Output:

Sequential execution time: 550 ms
ThreadPool execution time: 320 ms
Results match: true
